(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Av8s:function(e,n,t){"use strict";t.r(n);t("ma9I"),t("pjDv"),t("4mDm"),t("2B1R"),t("E9XD"),t("+2oP"),t("07d7"),t("5s+n"),t("PKPk"),t("3bBZ"),t("Kz25");var c=t("o0o1"),r=t.n(c),o=(t("ls82"),t("q1tI")),a=t.n(o),u=t("4pX0"),i=t.n(u);function f(e,n,t,c,r,o,a){try{var u=e[o](a),i=u.value}catch(f){return void t(f)}u.done?n(i):Promise.resolve(i).then(c,r)}function l(e){return e[0].map((function(n,t){return e.map((function(e){return e[t]})).reduce((function(e,n){return e+n}),0)/e.length}))}n.default=function(){var e=a.a.useState([]),n=e[0],t=e[1],c=a.a.useState([]),o=(c[0],c[1],a.a.useRef([])),u=a.a.useState([]),s=(u[0],u[1]),m=a.a.useState(null),p=m[0],d=m[1],h=a.a.useState([]),v=h[0],g=h[1],y=a.a.useState(""),b=y[0],w=y[1];a.a.useLayoutEffect((function(){p&&p.start()}),[p]);var E=function(){var e,n=(e=r.a.mark((function e(n){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.stop(),e.next=3,l(v);case 3:t=e.sent,s((function(e){return e.concat([t])})),console.log(n+1),console.log(t),g([]),console.log("Mengupload fitur MFCC..."),fetch("https://filimoml.com/speeches/add",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({source:"berlin",mfcc0:t[0],mfcc1:t[1],mfcc2:t[2],mfcc3:t[3],mfcc4:t[4],mfcc5:t[5],mfcc6:t[6],mfcc7:t[7],mfcc8:t[8],mfcc9:t[9],mfcc10:t[10],mfcc11:t[11],mfcc12:t[12],label:b})});case 10:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(c,r){var o=e.apply(n,t);function a(e){f(o,c,r,a,u,"next",e)}function u(e){f(o,c,r,a,u,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return a.a.createElement("div",{style:{padding:50}},a.a.createElement("input",{type:"file",multiple:!0,onChange:function(e){Array.from(e.target.files).map((function(e){t((function(n){return n.concat(URL.createObjectURL(e))}))})),o.current=o.current.slice(0,e.target.files.length)}}),a.a.createElement("input",{type:"text",placeholder:"Label emosi",onChange:function(e){return w(e.target.value)}}),a.a.createElement("button",{onClick:function(){return function e(t){void 0===t&&(t=0),console.log("["+(parseFloat(t)+1)+"/"+n.length+"] Mengekstrak fitur MFCC"),o.current[t].play(),o.current[t].onended=function(){t<n.length-1&&e(t+1)}}()}},"Train"),a.a.createElement("br",null),n?n.map((function(e,n){return a.a.createElement("audio",{key:n,ref:function(e){return o.current[n]=e},src:e,controls:!0,onPlay:function(){return function(e){g([]);var n=new AudioContext,t=n.createMediaElementSource(o.current[e]);t.connect(n.destination),d(i.a.createMeydaAnalyzer({audioContext:n,source:t,bufferSize:512,featureExtractors:["mfcc"],callback:function(e){g((function(n){return n.concat([e.mfcc])}))}}))}(n)},onEnded:function(){return E(n)},style:{margin:15}})})):null)}}}]);
//# sourceMappingURL=component---src-pages-train-js-feecc59d79b8e06237e1.js.map