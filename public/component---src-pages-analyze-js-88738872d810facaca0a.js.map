{"version":3,"sources":["webpack:///./node_modules/zdog/js/rounded-rect.js","webpack:///./node_modules/zdog/js/index.js","webpack:///./node_modules/zdog/js/canvas-renderer.js","webpack:///./src/components/button-medium-orange.js","webpack:///./node_modules/zdog/js/group.js","webpack:///./node_modules/zdog/js/dragger.js","webpack:///./node_modules/zdog/js/hemisphere.js","webpack:///./node_modules/zdog/js/illustration.js","webpack:///./node_modules/zdog/js/cylinder.js","webpack:///./node_modules/zdog/js/cone.js","webpack:///./node_modules/@styled-icons/boxicons-regular/Minus/Minus.esm.js","webpack:///./node_modules/@styled-icons/boxicons-regular/Plus/Plus.esm.js","webpack:///./node_modules/@styled-icons/boxicons-solid/Microphone/Microphone.esm.js","webpack:///./node_modules/@styled-icons/fa-solid/Stop/Stop.esm.js","webpack:///./src/pages/analyze.js","webpack:///./node_modules/zdog/js/vector.js","webpack:///./node_modules/zdog/js/shape.js","webpack:///./node_modules/zdog/js/rect.js","webpack:///./node_modules/zdog/js/anchor.js","webpack:///./node_modules/zdog/js/path-command.js","webpack:///./node_modules/zdog/js/boilerplate.js","webpack:///./node_modules/zdog/js/polygon.js","webpack:///./node_modules/zdog/js/ellipse.js","webpack:///./node_modules/zdog/js/box.js","webpack:///./node_modules/zdog/js/svg-renderer.js"],"names":["root","factory","module","exports","Zdog","RoundedRect","Shape","this","subclass","width","height","cornerRadius","closed","prototype","setPath","xA","yA","shortSide","Math","min","xB","yB","path","x","y","arc","push","CanvasRenderer","SvgRenderer","Vector","Anchor","Dragger","Illustration","PathCommand","Group","Rect","Ellipse","Polygon","Hemisphere","Cylinder","Cone","Box","isCanvas","ctx","beginPath","elem","point","moveTo","lineTo","cp0","cp1","end","bezierCurveTo","closePath","pathCommands","isClosed","begin","forEach","command","render","isStroke","color","lineWidth","strokeStyle","stroke","isFill","fillStyle","fill","BtnWrapper","styled","div","props","clicked","Btn","ButtonMediumOrange","children","onClick","updateSort","visible","updateSortValue","sortValueTotal","flatGraph","item","sortValue","length","sort","shapeSorter","renderer","updateFlatGraph","addChildFlatGraph","getFlatGraph","hasWindow","window","downEvent","moveEvent","upEvent","noop","options","create","PointerEvent","onDragStart","onDragMove","onDragEnd","bindDrag","startElement","element","getQueryElement","style","touchAction","addEventListener","document","querySelector","handleEvent","event","method","type","call","onmousedown","onpointerdown","dragStart","ontouchstart","changedTouches","pointer","preventDefault","dragStartX","pageX","dragStartY","pageY","ontouchmove","dragMove","onmousemove","onpointermove","moveX","moveY","onmouseup","onpointerup","ontouchend","dragEnd","removeEventListener","utils","TAU","apply","arguments","apex","addTo","translate","z","diameter","renderCentroid","set","renderOrigin","lerp","renderDome","getDomeRenderElement","contourAngle","atan2","renderNormal","domeRadius","magnitude","startAngle","endAngle","isSvg","domeSvgElement","setAttribute","getLineWidth","createElementNS","undefined","centered","zoom","dragRotate","resize","onPrerender","onResize","extend","setElement","setDragRotate","setResize","Error","nodeName","toLowerCase","setCanvas","setSvg","setSize","round","setSizeCanvas","setSizeSvg","resizeListener","onWindowResize","bind","setMeasuredSize","innerWidth","innerHeight","rect","getBoundingClientRect","renderGraph","renderGraphCanvas","renderGraphSvg","updateRenderGraph","updateGraph","getContext","pixelRatio","devicePixelRatio","canvasWidth","canvasHeight","prerenderCanvas","postrenderCanvas","lineCap","lineJoin","clearRect","save","centerX","centerY","scale","restore","getAttribute","viewWidth","viewHeight","viewX","viewY","removeAttribute","firstChild","removeChild","empty","dragStartRX","rotate","dragStartRY","displaySize","moveRY","moveRX","CylinderGroup","renderCylinderSurface","getRenderElement","frontBase","rearBase","strokeWidth","renderPoints","renderPath","svgElement","copyGraph","frontFace","group","baseZ","baseColor","backface","copy","property","_prop","Object","defineProperty","get","value","renderApex","tangentA","tangentB","surfacePathCommands","renderConeSurface","subtract","apexDistance","magnitude2d","normalDistance","eccenAngle","acos","eccen","sin","radius","apexAngle","projectLength","projectAngle","cos","rotateZ","add","setSurfaceRenderPoint","getSurfaceRenderElement","surfaceSvgElement","index","Minus","ref","iconAttrs","iconVerticalAlign","iconViewBox","d","key","displayName","Plus","Microphone","Stop","AudioVisualizer","ChildAudioVisualizer","TxtDesc","p","TxtResult","ContainerVolume","SliderVolume","input","volume","IconMinus","IconPlus","IconMic","IconStop","Child","posed","opacity","hidden","initialPose","getMedia","a","navigator","mediaDevices","getUserMedia","audio","video","console","log","getMeanArray","arr","map","col","i","row","reduce","acc","c","AnalyzePage","React","useState","valueSlider","setValueSlider","analyzer","setAnalyzer","mfccTotal","setMfccTotal","useLayoutEffect","start","setClicked","textResult","setTextResult","textDesc","setTextDesc","emptyLoudnessArray","Array","total","specific","handleClick","stop","testingDataSource","fetch","headers","body","JSON","stringify","mfcc0","mfcc1","mfcc2","mfcc3","mfcc4","mfcc5","mfcc6","mfcc7","mfcc8","mfcc9","mfcc10","mfcc11","mfcc12","then","res","json","data","audioContext","AudioContext","resume","stream","source","createMediaStreamSource","Meyda","createMeydaAnalyzer","bufferSize","featureExtractors","callback","features","curr","concat","mfcc","havemenu","title","onChange","e","parseFloat","target","step","max","display","justifyContent","margin","position","rotateProperty","vec","angle","propA","propB","b","getMagnitudeSqrt","sum","abs","sqrt","pos","write","rotation","rotateY","rotateX","isSame","multiply","transform","translation","alpha","front","updatePath","renderFront","actionNames","updatePathCommands","previousPoint","pathPart","keys","points","indexOf","isLineOrMove","isPointsArray","isArray","endRenderPoint","reset","origin","child","pointCount","firstPoint","lastPoint","isFacingBack","isDot","renderCanvasDot","getRenderColor","onePoint","constructor","defaults","setOptions","addChild","optionKeys","shape","remove","splice","update","_flatGraph","graph","childFlatGraph","svg","itemOptions","ItemClass","clone","normalizeRotate","modulo","getSubclass","Super","Item","slice","mapVectorPoint","mapNewVector","controlPoints","renderPoint","move","line","bezier","prev","corner","PI","prop","num","powerMultipliers","2","3","4","5","easeInOut","power","isFirstHalf","slope","curve","sides","theta","quarters","BoxRect","faceNames","boxDefaults","faceName","depth","_faceName","setFace","rectProperty","getFaceOptions","rearFace","leftFace","rightFace","topFace","bottomFace","isFaceColor","getPointString","pathValue","fillColor","appendChild"],"mappings":"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","file":"component---src-pages-analyze-js-88738872d810facaca0a.js","sourcesContent":["/**\n * RoundedRect\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./shape'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.RoundedRect = factory(Zdog.Shape);\n  }\n})(this, function factory(Shape) {\n  var RoundedRect = Shape.subclass({\n    width: 1,\n    height: 1,\n    cornerRadius: 0.25,\n    closed: false\n  });\n\n  RoundedRect.prototype.setPath = function () {\n    /* eslint\n       id-length: [ \"error\", { \"min\": 2, \"exceptions\": [ \"x\", \"y\" ] }],\n       key-spacing: \"off\" */\n    var xA = this.width / 2;\n    var yA = this.height / 2;\n    var shortSide = Math.min(xA, yA);\n    var cornerRadius = Math.min(this.cornerRadius, shortSide);\n    var xB = xA - cornerRadius;\n    var yB = yA - cornerRadius;\n    var path = [// top right corner\n    {\n      x: xB,\n      y: -yA\n    }, {\n      arc: [{\n        x: xA,\n        y: -yA\n      }, {\n        x: xA,\n        y: -yB\n      }]\n    }]; // bottom right corner\n\n    if (yB) {\n      path.push({\n        x: xA,\n        y: yB\n      });\n    }\n\n    path.push({\n      arc: [{\n        x: xA,\n        y: yA\n      }, {\n        x: xB,\n        y: yA\n      }]\n    }); // bottom left corner\n\n    if (xB) {\n      path.push({\n        x: -xB,\n        y: yA\n      });\n    }\n\n    path.push({\n      arc: [{\n        x: -xA,\n        y: yA\n      }, {\n        x: -xA,\n        y: yB\n      }]\n    }); // top left corner\n\n    if (yB) {\n      path.push({\n        x: -xA,\n        y: -yB\n      });\n    }\n\n    path.push({\n      arc: [{\n        x: -xA,\n        y: -yA\n      }, {\n        x: -xB,\n        y: -yA\n      }]\n    }); // back to top right corner\n\n    if (xB) {\n      path.push({\n        x: xB,\n        y: -yA\n      });\n    }\n\n    this.path = path;\n  };\n\n  return RoundedRect;\n});","/**\n * Index\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'), require('./canvas-renderer'), require('./svg-renderer'), require('./vector'), require('./anchor'), require('./dragger'), require('./illustration'), require('./path-command'), require('./shape'), require('./group'), require('./rect'), require('./rounded-rect'), require('./ellipse'), require('./polygon'), require('./hemisphere'), require('./cylinder'), require('./cone'), require('./box'));\n  } else if (typeof define == 'function' && define.amd) {\n    /* globals define */\n    // AMD\n    define('zdog', [], root.Zdog);\n  }\n})(this, function factory(Zdog, CanvasRenderer, SvgRenderer, Vector, Anchor, Dragger, Illustration, PathCommand, Shape, Group, Rect, RoundedRect, Ellipse, Polygon, Hemisphere, Cylinder, Cone, Box) {\n  Zdog.CanvasRenderer = CanvasRenderer;\n  Zdog.SvgRenderer = SvgRenderer;\n  Zdog.Vector = Vector;\n  Zdog.Anchor = Anchor;\n  Zdog.Dragger = Dragger;\n  Zdog.Illustration = Illustration;\n  Zdog.PathCommand = PathCommand;\n  Zdog.Shape = Shape;\n  Zdog.Group = Group;\n  Zdog.Rect = Rect;\n  Zdog.RoundedRect = RoundedRect;\n  Zdog.Ellipse = Ellipse;\n  Zdog.Polygon = Polygon;\n  Zdog.Hemisphere = Hemisphere;\n  Zdog.Cylinder = Cylinder;\n  Zdog.Cone = Cone;\n  Zdog.Box = Box;\n  return Zdog;\n});","require(\"core-js/modules/es.array.fill\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\n/**\n * CanvasRenderer\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.CanvasRenderer = factory();\n  }\n})(this, function factory() {\n  var CanvasRenderer = {\n    isCanvas: true\n  };\n\n  CanvasRenderer.begin = function (ctx) {\n    ctx.beginPath();\n  };\n\n  CanvasRenderer.move = function (ctx, elem, point) {\n    ctx.moveTo(point.x, point.y);\n  };\n\n  CanvasRenderer.line = function (ctx, elem, point) {\n    ctx.lineTo(point.x, point.y);\n  };\n\n  CanvasRenderer.bezier = function (ctx, elem, cp0, cp1, end) {\n    ctx.bezierCurveTo(cp0.x, cp0.y, cp1.x, cp1.y, end.x, end.y);\n  };\n\n  CanvasRenderer.closePath = function (ctx) {\n    ctx.closePath();\n  };\n\n  CanvasRenderer.setPath = function () {};\n\n  CanvasRenderer.renderPath = function (ctx, elem, pathCommands, isClosed) {\n    this.begin(ctx, elem);\n    pathCommands.forEach(function (command) {\n      command.render(ctx, elem, CanvasRenderer);\n    });\n\n    if (isClosed) {\n      this.closePath(ctx, elem);\n    }\n  };\n\n  CanvasRenderer.stroke = function (ctx, elem, isStroke, color, lineWidth) {\n    if (!isStroke) {\n      return;\n    }\n\n    ctx.strokeStyle = color;\n    ctx.lineWidth = lineWidth;\n    ctx.stroke();\n  };\n\n  CanvasRenderer.fill = function (ctx, elem, isFill, color) {\n    if (!isFill) {\n      return;\n    }\n\n    ctx.fillStyle = color;\n    ctx.fill();\n  };\n\n  CanvasRenderer.end = function () {};\n\n  return CanvasRenderer;\n});","import React from \"react\"\nimport styled from \"styled-components\"\n\nconst BtnWrapper = styled.div`\n  display: flex;\n  border-radius: 100%;\n  width: 90px;\n  height: 90px;\n  background: ${props =>\n    props.clicked\n      ? \"linear-gradient(134.06deg, #DB501F 15.56%, #BA391D 83.35%)\"\n      : \"linear-gradient(134.06deg, #BA391D 15.56%, #DB501F 83.35%)\"};\n  box-shadow: ${props =>\n    props.clicked\n      ? \"-9px -9px 20px rgba(81, 87, 97, 0.70), 15px 15px 26px rgba(0, 0, 0, 0.45)\"\n      : \"-8px -8px 18px rgba(81, 87, 97, 0.65), 14px 14px 24px rgba(0, 0, 0, 0.4)\"};\n  transition: all 0.2s;\n`\n\nconst Btn = styled.div`\n  display: flex;\n  margin: auto;\n  border-radius: 100%;\n  width: 84px;\n  height: 84px;\n\n  background: ${props =>\n    props.clicked\n      ? \"linear-gradient(135.09deg, #BB241B 1.07%, #E65721 83.33%)\"\n      : \"linear-gradient(135.09deg, #E65721 17.07%, #BB241B 83.33%)\"};\n\n  transition: all 0.2s;\n`\n\nconst ButtonMediumOrange = ({ children, clicked, onClick }) => (\n  <BtnWrapper clicked={clicked} onClick={onClick}>\n    <Btn clicked={clicked}>{children}</Btn>\n  </BtnWrapper>\n)\n\nexport default ButtonMediumOrange\n","require(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\n/**\n * Group\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./anchor'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Group = factory(Zdog.Anchor);\n  }\n})(this, function factory(Anchor) {\n  var Group = Anchor.subclass({\n    updateSort: false,\n    visible: true\n  }); // ----- update ----- //\n\n  Group.prototype.updateSortValue = function () {\n    var sortValueTotal = 0;\n    this.flatGraph.forEach(function (item) {\n      item.updateSortValue();\n      sortValueTotal += item.sortValue;\n    }); // average sort value of all points\n    // def not geometrically correct, but works for me\n\n    this.sortValue = sortValueTotal / this.flatGraph.length;\n\n    if (this.updateSort) {\n      this.flatGraph.sort(Anchor.shapeSorter);\n    }\n  }; // ----- render ----- //\n\n\n  Group.prototype.render = function (ctx, renderer) {\n    if (!this.visible) {\n      return;\n    }\n\n    this.flatGraph.forEach(function (item) {\n      item.render(ctx, renderer);\n    });\n  }; // actual group flatGraph only used inside group\n\n\n  Group.prototype.updateFlatGraph = function () {\n    // do not include self\n    var flatGraph = [];\n    this.flatGraph = this.addChildFlatGraph(flatGraph);\n  }; // do not include children, group handles rendering & sorting internally\n\n\n  Group.prototype.getFlatGraph = function () {\n    return [this];\n  };\n\n  return Group;\n});","/**\n * Dragger\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.Dragger = factory();\n  }\n})(this, function factory() {\n  // quick & dirty drag event stuff\n  // messes up if multiple pointers/touches\n  // check for browser window #85\n  var hasWindow = typeof window != 'undefined'; // event support, default to mouse events\n\n  var downEvent = 'mousedown';\n  var moveEvent = 'mousemove';\n  var upEvent = 'mouseup';\n\n  if (hasWindow) {\n    if (window.PointerEvent) {\n      // PointerEvent, Chrome\n      downEvent = 'pointerdown';\n      moveEvent = 'pointermove';\n      upEvent = 'pointerup';\n    } else if ('ontouchstart' in window) {\n      // Touch Events, iOS Safari\n      downEvent = 'touchstart';\n      moveEvent = 'touchmove';\n      upEvent = 'touchend';\n    }\n  }\n\n  function noop() {}\n\n  function Dragger(options) {\n    this.create(options || {});\n  }\n\n  Dragger.prototype.create = function (options) {\n    this.onDragStart = options.onDragStart || noop;\n    this.onDragMove = options.onDragMove || noop;\n    this.onDragEnd = options.onDragEnd || noop;\n    this.bindDrag(options.startElement);\n  };\n\n  Dragger.prototype.bindDrag = function (element) {\n    element = this.getQueryElement(element);\n\n    if (!element) {\n      return;\n    } // disable browser gestures #53\n\n\n    element.style.touchAction = 'none';\n    element.addEventListener(downEvent, this);\n  };\n\n  Dragger.prototype.getQueryElement = function (element) {\n    if (typeof element == 'string') {\n      // with string, query selector\n      element = document.querySelector(element);\n    }\n\n    return element;\n  };\n\n  Dragger.prototype.handleEvent = function (event) {\n    var method = this['on' + event.type];\n\n    if (method) {\n      method.call(this, event);\n    }\n  };\n\n  Dragger.prototype.onmousedown = Dragger.prototype.onpointerdown = function (event) {\n    this.dragStart(event, event);\n  };\n\n  Dragger.prototype.ontouchstart = function (event) {\n    this.dragStart(event, event.changedTouches[0]);\n  };\n\n  Dragger.prototype.dragStart = function (event, pointer) {\n    event.preventDefault();\n    this.dragStartX = pointer.pageX;\n    this.dragStartY = pointer.pageY;\n\n    if (hasWindow) {\n      window.addEventListener(moveEvent, this);\n      window.addEventListener(upEvent, this);\n    }\n\n    this.onDragStart(pointer);\n  };\n\n  Dragger.prototype.ontouchmove = function (event) {\n    // HACK, moved touch may not be first\n    this.dragMove(event, event.changedTouches[0]);\n  };\n\n  Dragger.prototype.onmousemove = Dragger.prototype.onpointermove = function (event) {\n    this.dragMove(event, event);\n  };\n\n  Dragger.prototype.dragMove = function (event, pointer) {\n    event.preventDefault();\n    var moveX = pointer.pageX - this.dragStartX;\n    var moveY = pointer.pageY - this.dragStartY;\n    this.onDragMove(pointer, moveX, moveY);\n  };\n\n  Dragger.prototype.onmouseup = Dragger.prototype.onpointerup = Dragger.prototype.ontouchend = Dragger.prototype.dragEnd = function ()\n  /* event */\n  {\n    window.removeEventListener(moveEvent, this);\n    window.removeEventListener(upEvent, this);\n    this.onDragEnd();\n  };\n\n  return Dragger;\n});","require(\"core-js/modules/es.array.fill\");\n\n/**\n * Hemisphere composite shape\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'), require('./vector'), require('./anchor'), require('./ellipse'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Hemisphere = factory(Zdog, Zdog.Vector, Zdog.Anchor, Zdog.Ellipse);\n  }\n})(this, function factory(utils, Vector, Anchor, Ellipse) {\n  var Hemisphere = Ellipse.subclass({\n    fill: true\n  });\n  var TAU = utils.TAU;\n\n  Hemisphere.prototype.create = function ()\n  /* options */\n  {\n    // call super\n    Ellipse.prototype.create.apply(this, arguments); // composite shape, create child shapes\n\n    this.apex = new Anchor({\n      addTo: this,\n      translate: {\n        z: this.diameter / 2\n      }\n    }); // vector used for calculation\n\n    this.renderCentroid = new Vector();\n  };\n\n  Hemisphere.prototype.updateSortValue = function () {\n    // centroid of hemisphere is 3/8 between origin and apex\n    this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin, 3 / 8);\n    this.sortValue = this.renderCentroid.z;\n  };\n\n  Hemisphere.prototype.render = function (ctx, renderer) {\n    this.renderDome(ctx, renderer); // call super\n\n    Ellipse.prototype.render.apply(this, arguments);\n  };\n\n  Hemisphere.prototype.renderDome = function (ctx, renderer) {\n    if (!this.visible) {\n      return;\n    }\n\n    var elem = this.getDomeRenderElement(ctx, renderer);\n    var contourAngle = Math.atan2(this.renderNormal.y, this.renderNormal.x);\n    var domeRadius = this.diameter / 2 * this.renderNormal.magnitude();\n    var x = this.renderOrigin.x;\n    var y = this.renderOrigin.y;\n\n    if (renderer.isCanvas) {\n      // canvas\n      var startAngle = contourAngle + TAU / 4;\n      var endAngle = contourAngle - TAU / 4;\n      ctx.beginPath();\n      ctx.arc(x, y, domeRadius, startAngle, endAngle);\n    } else if (renderer.isSvg) {\n      // svg\n      contourAngle = (contourAngle - TAU / 4) / TAU * 360;\n      this.domeSvgElement.setAttribute('d', 'M ' + -domeRadius + ',0 A ' + domeRadius + ',' + domeRadius + ' 0 0 1 ' + domeRadius + ',0');\n      this.domeSvgElement.setAttribute('transform', 'translate(' + x + ',' + y + ' ) rotate(' + contourAngle + ')');\n    }\n\n    renderer.stroke(ctx, elem, this.stroke, this.color, this.getLineWidth());\n    renderer.fill(ctx, elem, this.fill, this.color);\n    renderer.end(ctx, elem);\n  };\n\n  var svgURI = 'http://www.w3.org/2000/svg';\n\n  Hemisphere.prototype.getDomeRenderElement = function (ctx, renderer) {\n    if (!renderer.isSvg) {\n      return;\n    }\n\n    if (!this.domeSvgElement) {\n      // create svgElement\n      this.domeSvgElement = document.createElementNS(svgURI, 'path');\n      this.domeSvgElement.setAttribute('stroke-linecap', 'round');\n      this.domeSvgElement.setAttribute('stroke-linejoin', 'round');\n    }\n\n    return this.domeSvgElement;\n  };\n\n  return Hemisphere;\n});","require(\"core-js/modules/es.function.bind\");\n\n/**\n * Illustration\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'), require('./anchor'), require('./dragger'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Illustration = factory(Zdog, Zdog.Anchor, Zdog.Dragger);\n  }\n})(this, function factory(utils, Anchor, Dragger) {\n  function noop() {}\n\n  var TAU = utils.TAU;\n  var Illustration = Anchor.subclass({\n    element: undefined,\n    centered: true,\n    zoom: 1,\n    dragRotate: false,\n    resize: false,\n    onPrerender: noop,\n    onDragStart: noop,\n    onDragMove: noop,\n    onDragEnd: noop,\n    onResize: noop\n  });\n  utils.extend(Illustration.prototype, Dragger.prototype);\n\n  Illustration.prototype.create = function (options) {\n    Anchor.prototype.create.call(this, options);\n    Dragger.prototype.create.call(this, options);\n    this.setElement(this.element);\n    this.setDragRotate(this.dragRotate);\n    this.setResize(this.resize);\n  };\n\n  Illustration.prototype.setElement = function (element) {\n    element = this.getQueryElement(element);\n\n    if (!element) {\n      throw new Error('Zdog.Illustration element required. Set to ' + element);\n    }\n\n    var nodeName = element.nodeName.toLowerCase();\n\n    if (nodeName == 'canvas') {\n      this.setCanvas(element);\n    } else if (nodeName == 'svg') {\n      this.setSvg(element);\n    }\n  };\n\n  Illustration.prototype.setSize = function (width, height) {\n    width = Math.round(width);\n    height = Math.round(height);\n\n    if (this.isCanvas) {\n      this.setSizeCanvas(width, height);\n    } else if (this.isSvg) {\n      this.setSizeSvg(width, height);\n    }\n  };\n\n  Illustration.prototype.setResize = function (resize) {\n    this.resize = resize; // create resize event listener\n\n    if (!this.resizeListener) {\n      this.resizeListener = this.onWindowResize.bind(this);\n    } // add/remove event listener\n\n\n    if (resize) {\n      window.addEventListener('resize', this.resizeListener);\n      this.onWindowResize();\n    } else {\n      window.removeEventListener('resize', this.resizeListener);\n    }\n  }; // TODO debounce this?\n\n\n  Illustration.prototype.onWindowResize = function () {\n    this.setMeasuredSize();\n    this.onResize(this.width, this.height);\n  };\n\n  Illustration.prototype.setMeasuredSize = function () {\n    var width, height;\n    var isFullscreen = this.resize == 'fullscreen';\n\n    if (isFullscreen) {\n      width = window.innerWidth;\n      height = window.innerHeight;\n    } else {\n      var rect = this.element.getBoundingClientRect();\n      width = rect.width;\n      height = rect.height;\n    }\n\n    this.setSize(width, height);\n  }; // ----- render ----- //\n\n\n  Illustration.prototype.renderGraph = function (item) {\n    if (this.isCanvas) {\n      this.renderGraphCanvas(item);\n    } else if (this.isSvg) {\n      this.renderGraphSvg(item);\n    }\n  }; // combo method\n\n\n  Illustration.prototype.updateRenderGraph = function (item) {\n    this.updateGraph();\n    this.renderGraph(item);\n  }; // ----- canvas ----- //\n\n\n  Illustration.prototype.setCanvas = function (element) {\n    this.element = element;\n    this.isCanvas = true; // update related properties\n\n    this.ctx = this.element.getContext('2d'); // set initial size\n\n    this.setSizeCanvas(element.width, element.height);\n  };\n\n  Illustration.prototype.setSizeCanvas = function (width, height) {\n    this.width = width;\n    this.height = height; // up-rez for hi-DPI devices\n\n    var pixelRatio = this.pixelRatio = window.devicePixelRatio || 1;\n    this.element.width = this.canvasWidth = width * pixelRatio;\n    this.element.height = this.canvasHeight = height * pixelRatio;\n    var needsHighPixelRatioSizing = pixelRatio > 1 && !this.resize;\n\n    if (needsHighPixelRatioSizing) {\n      this.element.style.width = width + 'px';\n      this.element.style.height = height + 'px';\n    }\n  };\n\n  Illustration.prototype.renderGraphCanvas = function (item) {\n    item = item || this;\n    this.prerenderCanvas();\n    Anchor.prototype.renderGraphCanvas.call(item, this.ctx);\n    this.postrenderCanvas();\n  };\n\n  Illustration.prototype.prerenderCanvas = function () {\n    var ctx = this.ctx;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n    ctx.save();\n\n    if (this.centered) {\n      var centerX = this.width / 2 * this.pixelRatio;\n      var centerY = this.height / 2 * this.pixelRatio;\n      ctx.translate(centerX, centerY);\n    }\n\n    var scale = this.pixelRatio * this.zoom;\n    ctx.scale(scale, scale);\n    this.onPrerender(ctx);\n  };\n\n  Illustration.prototype.postrenderCanvas = function () {\n    this.ctx.restore();\n  }; // ----- svg ----- //\n\n\n  Illustration.prototype.setSvg = function (element) {\n    this.element = element;\n    this.isSvg = true;\n    this.pixelRatio = 1; // set initial size from width & height attributes\n\n    var width = element.getAttribute('width');\n    var height = element.getAttribute('height');\n    this.setSizeSvg(width, height);\n  };\n\n  Illustration.prototype.setSizeSvg = function (width, height) {\n    this.width = width;\n    this.height = height;\n    var viewWidth = width / this.zoom;\n    var viewHeight = height / this.zoom;\n    var viewX = this.centered ? -viewWidth / 2 : 0;\n    var viewY = this.centered ? -viewHeight / 2 : 0;\n    this.element.setAttribute('viewBox', viewX + ' ' + viewY + ' ' + viewWidth + ' ' + viewHeight);\n\n    if (this.resize) {\n      // remove size attributes, let size be determined by viewbox\n      this.element.removeAttribute('width');\n      this.element.removeAttribute('height');\n    } else {\n      this.element.setAttribute('width', width);\n      this.element.setAttribute('height', height);\n    }\n  };\n\n  Illustration.prototype.renderGraphSvg = function (item) {\n    item = item || this;\n    empty(this.element);\n    this.onPrerender(this.element);\n    Anchor.prototype.renderGraphSvg.call(item, this.element);\n  };\n\n  function empty(element) {\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  } // ----- drag ----- //\n\n\n  Illustration.prototype.setDragRotate = function (item) {\n    if (!item) {\n      return;\n    } else if (item === true) {\n      /* eslint consistent-this: \"off\" */\n      item = this;\n    }\n\n    this.dragRotate = item;\n    this.bindDrag(this.element);\n  };\n\n  Illustration.prototype.dragStart = function ()\n  /* event, pointer */\n  {\n    this.dragStartRX = this.dragRotate.rotate.x;\n    this.dragStartRY = this.dragRotate.rotate.y;\n    Dragger.prototype.dragStart.apply(this, arguments);\n  };\n\n  Illustration.prototype.dragMove = function (event, pointer) {\n    var moveX = pointer.pageX - this.dragStartX;\n    var moveY = pointer.pageY - this.dragStartY;\n    var displaySize = Math.min(this.width, this.height);\n    var moveRY = moveX / displaySize * TAU;\n    var moveRX = moveY / displaySize * TAU;\n    this.dragRotate.rotate.x = this.dragStartRX - moveRX;\n    this.dragRotate.rotate.y = this.dragStartRY - moveRY;\n    Dragger.prototype.dragMove.apply(this, arguments);\n  };\n\n  return Illustration;\n});","require(\"core-js/modules/es.array.fill\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\n/**\n * Cylinder composite shape\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'), require('./path-command'), require('./shape'), require('./group'), require('./ellipse'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cylinder = factory(Zdog, Zdog.PathCommand, Zdog.Shape, Zdog.Group, Zdog.Ellipse);\n  }\n})(this, function factory(utils, PathCommand, Shape, Group, Ellipse) {\n  function noop() {} // ----- CylinderGroup ----- //\n\n\n  var CylinderGroup = Group.subclass({\n    color: '#333',\n    updateSort: true\n  });\n\n  CylinderGroup.prototype.create = function () {\n    Group.prototype.create.apply(this, arguments);\n    this.pathCommands = [new PathCommand('move', [{}]), new PathCommand('line', [{}])];\n  };\n\n  CylinderGroup.prototype.render = function (ctx, renderer) {\n    this.renderCylinderSurface(ctx, renderer);\n    Group.prototype.render.apply(this, arguments);\n  };\n\n  CylinderGroup.prototype.renderCylinderSurface = function (ctx, renderer) {\n    if (!this.visible) {\n      return;\n    } // render cylinder surface\n\n\n    var elem = this.getRenderElement(ctx, renderer);\n    var frontBase = this.frontBase;\n    var rearBase = this.rearBase;\n    var scale = frontBase.renderNormal.magnitude();\n    var strokeWidth = frontBase.diameter * scale + frontBase.getLineWidth(); // set path command render points\n\n    this.pathCommands[0].renderPoints[0].set(frontBase.renderOrigin);\n    this.pathCommands[1].renderPoints[0].set(rearBase.renderOrigin);\n\n    if (renderer.isCanvas) {\n      ctx.lineCap = 'butt'; // nice\n    }\n\n    renderer.renderPath(ctx, elem, this.pathCommands);\n    renderer.stroke(ctx, elem, true, this.color, strokeWidth);\n    renderer.end(ctx, elem);\n\n    if (renderer.isCanvas) {\n      ctx.lineCap = 'round'; // reset\n    }\n  };\n\n  var svgURI = 'http://www.w3.org/2000/svg';\n\n  CylinderGroup.prototype.getRenderElement = function (ctx, renderer) {\n    if (!renderer.isSvg) {\n      return;\n    }\n\n    if (!this.svgElement) {\n      // create svgElement\n      this.svgElement = document.createElementNS(svgURI, 'path');\n    }\n\n    return this.svgElement;\n  }; // prevent double-creation in parent.copyGraph()\n  // only create in Cylinder.create()\n\n\n  CylinderGroup.prototype.copyGraph = noop; // ----- CylinderEllipse ----- //\n\n  var CylinderEllipse = Ellipse.subclass();\n  CylinderEllipse.prototype.copyGraph = noop; // ----- Cylinder ----- //\n\n  var Cylinder = Shape.subclass({\n    diameter: 1,\n    length: 1,\n    frontFace: undefined,\n    fill: true\n  });\n  var TAU = utils.TAU;\n\n  Cylinder.prototype.create = function ()\n  /* options */\n  {\n    // call super\n    Shape.prototype.create.apply(this, arguments); // composite shape, create child shapes\n    // CylinderGroup to render cylinder surface then bases\n\n    this.group = new CylinderGroup({\n      addTo: this,\n      color: this.color,\n      visible: this.visible\n    });\n    var baseZ = this.length / 2;\n    var baseColor = this.backface || true; // front outside base\n\n    this.frontBase = this.group.frontBase = new Ellipse({\n      addTo: this.group,\n      diameter: this.diameter,\n      translate: {\n        z: baseZ\n      },\n      rotate: {\n        y: TAU / 2\n      },\n      color: this.color,\n      stroke: this.stroke,\n      fill: this.fill,\n      backface: this.frontFace || baseColor,\n      visible: this.visible\n    }); // back outside base\n\n    this.rearBase = this.group.rearBase = this.frontBase.copy({\n      translate: {\n        z: -baseZ\n      },\n      rotate: {\n        y: 0\n      },\n      backface: baseColor\n    });\n  }; // Cylinder shape does not render anything\n\n\n  Cylinder.prototype.render = function () {}; // ----- set child properties ----- //\n\n\n  var childProperties = ['stroke', 'fill', 'color', 'visible'];\n  childProperties.forEach(function (property) {\n    // use proxy property for custom getter & setter\n    var _prop = '_' + property;\n\n    Object.defineProperty(Cylinder.prototype, property, {\n      get: function get() {\n        return this[_prop];\n      },\n      set: function set(value) {\n        this[_prop] = value; // set property on children\n\n        if (this.frontBase) {\n          this.frontBase[property] = value;\n          this.rearBase[property] = value;\n          this.group[property] = value;\n        }\n      }\n    });\n  }); // TODO child property setter for backface, frontBaseColor, & rearBaseColor\n\n  return Cylinder;\n});","require(\"core-js/modules/es.array.fill\");\n\n/**\n * Cone composite shape\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'), require('./vector'), require('./path-command'), require('./anchor'), require('./ellipse'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cone = factory(Zdog, Zdog.Vector, Zdog.PathCommand, Zdog.Anchor, Zdog.Ellipse);\n  }\n})(this, function factory(utils, Vector, PathCommand, Anchor, Ellipse) {\n  var Cone = Ellipse.subclass({\n    length: 1,\n    fill: true\n  });\n  var TAU = utils.TAU;\n\n  Cone.prototype.create = function ()\n  /* options */\n  {\n    // call super\n    Ellipse.prototype.create.apply(this, arguments); // composite shape, create child shapes\n\n    this.apex = new Anchor({\n      addTo: this,\n      translate: {\n        z: this.length\n      }\n    }); // vectors used for calculation\n\n    this.renderApex = new Vector();\n    this.renderCentroid = new Vector();\n    this.tangentA = new Vector();\n    this.tangentB = new Vector();\n    this.surfacePathCommands = [new PathCommand('move', [{}]), // points set in renderConeSurface\n    new PathCommand('line', [{}]), new PathCommand('line', [{}])];\n  };\n\n  Cone.prototype.updateSortValue = function () {\n    // center of cone is one third of its length\n    this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin, 1 / 3);\n    this.sortValue = this.renderCentroid.z;\n  };\n\n  Cone.prototype.render = function (ctx, renderer) {\n    this.renderConeSurface(ctx, renderer);\n    Ellipse.prototype.render.apply(this, arguments);\n  };\n\n  Cone.prototype.renderConeSurface = function (ctx, renderer) {\n    if (!this.visible) {\n      return;\n    }\n\n    this.renderApex.set(this.apex.renderOrigin).subtract(this.renderOrigin);\n    var scale = this.renderNormal.magnitude();\n    var apexDistance = this.renderApex.magnitude2d();\n    var normalDistance = this.renderNormal.magnitude2d(); // eccentricity\n\n    var eccenAngle = Math.acos(normalDistance / scale);\n    var eccen = Math.sin(eccenAngle);\n    var radius = this.diameter / 2 * scale; // does apex extend beyond eclipse of face\n\n    var isApexVisible = radius * eccen < apexDistance;\n\n    if (!isApexVisible) {\n      return;\n    } // update tangents\n\n\n    var apexAngle = Math.atan2(this.renderNormal.y, this.renderNormal.x) + TAU / 2;\n    var projectLength = apexDistance / eccen;\n    var projectAngle = Math.acos(radius / projectLength); // set tangent points\n\n    var tangentA = this.tangentA;\n    var tangentB = this.tangentB;\n    tangentA.x = Math.cos(projectAngle) * radius * eccen;\n    tangentA.y = Math.sin(projectAngle) * radius;\n    tangentB.set(this.tangentA);\n    tangentB.y *= -1;\n    tangentA.rotateZ(apexAngle);\n    tangentB.rotateZ(apexAngle);\n    tangentA.add(this.renderOrigin);\n    tangentB.add(this.renderOrigin);\n    this.setSurfaceRenderPoint(0, tangentA);\n    this.setSurfaceRenderPoint(1, this.apex.renderOrigin);\n    this.setSurfaceRenderPoint(2, tangentB); // render\n\n    var elem = this.getSurfaceRenderElement(ctx, renderer);\n    renderer.renderPath(ctx, elem, this.surfacePathCommands);\n    renderer.stroke(ctx, elem, this.stroke, this.color, this.getLineWidth());\n    renderer.fill(ctx, elem, this.fill, this.color);\n    renderer.end(ctx, elem);\n  };\n\n  var svgURI = 'http://www.w3.org/2000/svg';\n\n  Cone.prototype.getSurfaceRenderElement = function (ctx, renderer) {\n    if (!renderer.isSvg) {\n      return;\n    }\n\n    if (!this.surfaceSvgElement) {\n      // create svgElement\n      this.surfaceSvgElement = document.createElementNS(svgURI, 'path');\n      this.surfaceSvgElement.setAttribute('stroke-linecap', 'round');\n      this.surfaceSvgElement.setAttribute('stroke-linejoin', 'round');\n    }\n\n    return this.surfaceSvgElement;\n  };\n\n  Cone.prototype.setSurfaceRenderPoint = function (index, point) {\n    var renderPoint = this.surfacePathCommands[index].renderPoints[0];\n    renderPoint.set(point);\n  };\n\n  return Cone;\n});","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Minus = React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return React.createElement(StyledIconBase, __assign({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), React.createElement(\"path\", {\n    d: \"M5 11h14v2H5z\",\n    key: \"k0\"\n  }));\n});\nMinus.displayName = 'Minus';\nexport var MinusDimensions = {\n  height: 24,\n  width: 24\n};","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Plus = React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return React.createElement(StyledIconBase, __assign({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), React.createElement(\"path\", {\n    d: \"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z\",\n    key: \"k0\"\n  }));\n});\nPlus.displayName = 'Plus';\nexport var PlusDimensions = {\n  height: 24,\n  width: 24\n};","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Microphone = React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return React.createElement(StyledIconBase, __assign({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), React.createElement(\"path\", {\n    d: \"M12 16c2.206 0 4-1.794 4-4V6c0-2.217-1.785-4.021-3.979-4.021a.933.933 0 00-.209.025A4.006 4.006 0 008 6v6c0 2.206 1.794 4 4 4z\",\n    key: \"k0\"\n  }), React.createElement(\"path\", {\n    d: \"M11 19.931V22h2v-2.069c3.939-.495 7-3.858 7-7.931h-2c0 3.309-2.691 6-6 6s-6-2.691-6-6H4c0 4.072 3.061 7.436 7 7.931z\",\n    key: \"k1\"\n  }));\n});\nMicrophone.displayName = 'Microphone';\nexport var MicrophoneDimensions = {\n  height: 24,\n  width: 24\n};","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Stop = React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return React.createElement(StyledIconBase, __assign({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"-.125em\",\n    iconViewBox: \"0 0 448 512\"\n  }, props, {\n    ref: ref\n  }), React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z\",\n    key: \"k0\"\n  }));\n});\nStop.displayName = 'Stop';\nexport var StopDimensions = {\n  height: undefined,\n  width: undefined\n};","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport styled from \"styled-components\"\nimport Zdog from 'zdog';\nimport { VolumeFull } from \"styled-icons/boxicons-solid/VolumeFull\"\nimport { Minus } from \"styled-icons/boxicons-regular/Minus\"\nimport { Plus } from \"styled-icons/boxicons-regular/Plus\"\nimport { Microphone } from \"styled-icons/boxicons-solid/Microphone\"\nimport { Stop } from \"styled-icons/fa-solid/Stop\"\nimport posed from \"react-pose\"\nimport Meyda from \"meyda\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport ButtonMediumOrange from \"../components/button-medium-orange\"\n\nconst AudioVisualizer = styled.div`\n  position: relative;\n  display: inline-block;\n  // display: flex;\n  margin-top: 100px;\n  border-radius: 100%;\n  width: 230px;\n  height: 230px;\n\n  background: linear-gradient(134.06deg, #23262a 15.56%, #23262a 83.35%);\n  box-shadow: -16px -16px 30px rgba(81, 87, 97, 0.4),\n    16px 16px 30px rgba(0, 0, 0, 0.35);\n`\n\nconst ChildAudioVisualizer = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n  border-radius: 100%;\n  width: 215px;\n  height: 215px;\n\n  background: linear-gradient(\n    135.09deg,\n    rgba(44, 48, 53, 0.182) 40.54%,\n    rgba(30, 33, 36, 0.7) 83.33%\n  );\n  mix-blend-mode: multiply;\n`\n\nconst TxtDesc = styled.p`\n  margin: 30px 15px 15px;\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 16px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.5);\n`\n\nconst TxtResult = styled.p`\n  margin: 15px;\n  font-size: 32px;\n  font-weight: bold;\n  line-height: 37px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.8);\n`\n\nconst ContainerVolume = styled.div`\n  width: 100%;\n  max-width: 315px;\n  margin: 45px auto;\n  display: flex;\n  align-items: center;\n`\n\nconst SliderVolume = styled.input`\n  border: 0;\n  -webkit-appearance: none;\n  width: 100%;\n  height: 8px;\n  background: linear-gradient(\n    180deg,\n    #101010 32.29%,\n    #23262a 77.6%,\n    #505862 91.15%\n  );\n  border-radius: 5px;\n  outline: none;\n  opacity: 0.7;\n  -webkit-transition: 0.2s;\n  transition: all 0.2s;\n  border: 0;\n\n  &::-webkit-slider-runnable-track {\n    margin-left: 2px;\n    background: ${props =>\n      \"linear-gradient(90deg, #e55521 0%, #f5a42a \" +\n      (props.volume - 1) +\n      \"%, rgba(0, 0, 0, 0) \" +\n      props.volume +\n      \"%);\"}\n    height: 4px;\n    border-radius: 5px;\n    transition: all 0.2s;\n    border: 0;\n  }\n\n\n  // Chrome\n  &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    width: 32px;\n    height: 32px;\n    border-radius: 100%;\n    cursor: pointer;\n    margin-top: -14px;\n    border: 0;\n\n    background: linear-gradient(133.83deg, #373b42 19.39%, #202326 87.47%);\n    box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.5);\n  }\n\n  // Browser\n  &::-moz-range-track {\n    margin-left: 5px;\n    background: ${props =>\n      \"linear-gradient(90deg, #e55521 0%, #f5a42a \" +\n      (props.volume - 1) +\n      \"%, rgba(0, 0, 0, 0) \" +\n      props.volume +\n      \"%);\"}\n    height: 4px;\n    border-radius: 5px;\n    border: 0;\n  }\n\n  &::-moz-focus-outer {\n    border: 0;\n  }\n\n  &::-moz-range-thumb {\n    border: 0;\n    // -webkit-appearance: none;\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n    margin-top: -14px;\n\n    background: linear-gradient(133.83deg, #373b42 19.39%, #202326 87.47%);\n    box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.5);\n  }\n`\n\nconst IconMinus = styled(Minus)`\n  margin-right: 5px;\n  color: white;\n  opacity: 0.65;\n  width: 12px;\n  height: 12px;\n`\n\nconst IconPlus = styled(Plus)`\n  margin-left: 5px;\n  color: white;\n  opacity: 0.65;\n  width: 12px;\n  height: 12px;\n`\n\nconst IconMic = styled(Microphone)`\n  margin: auto;\n  color: white;\n  opacity: 0.65;\n  width: 32px;\n  height: 32px;\n`\n\nconst IconStop = styled(Stop)`\n  margin: auto;\n  color: white;\n  opacity: 0.65;\n  width: 22px;\n  height: 22px;\n`\n\nconst Child = posed.div({\n  visible: { y: 0, opacity: 1 },\n  hidden: { y: 50, opacity: 0 },\n  initialPose: \"hidden\",\n})\n\nconst getMedia = async () => {\n  try {\n    return await navigator.mediaDevices.getUserMedia({\n      audio: true,\n      video: false,\n    })\n  } catch (err) {\n    console.log(\"Error:\", err)\n  }\n}\n\nfunction getMeanArray(arr) {\n  let meanArr = arr[0].map((col, i) => {\n    return arr.map(row => row[i]).reduce((acc, c) => acc + c, 0) / arr.length\n  })\n  return meanArr\n}\n\nconst AnalyzePage = () => {\n  const [valueSlider, setValueSlider] = React.useState(50)\n\n  const handleSlider = e => {\n    setValueSlider(parseFloat(e.target.value))\n  }\n\n  const [analyzer, setAnalyzer] = React.useState(null)\n  const [mfccTotal, setMfccTotal] = React.useState([])\n\n  // React.useLayoutEffect(() => {\n  //   const audioContext = new AudioContext()\n  //   audioContext.resume().then(() => {\n  //     console.log(\"Playback resumed successfully\")\n  //   })\n  //   getMedia().then(stream => {\n  //     const source = audioContext.createMediaStreamSource(stream)\n  //     setAnalyzer(\n  //       Meyda.createMeydaAnalyzer({\n  //         audioContext: audioContext,\n  //         source: source,\n  //         bufferSize: 512,\n  //         featureExtractors: [\"mfcc\"],\n  //         callback: features => {\n  //           // mfccBulk.concat(features.mfcc)\n  //           setMfccTotal(curr => curr.concat([features.mfcc]))\n  //           console.log('meyda initialized')\n  //           // console.log(features.mfcc)\n  //         },\n  //       })\n  //     )\n\n  //     // const hear = Meyda.createMeydaAnalyzer({\n  //     //   audioContext: audioContext,\n  //     //   source: source,\n  //     //   bufferSize: 512,\n  //     //   featureExtractors: ['loudness', 'spectralCentroid'],\n  //     //   callback: features => {\n  //     //     setLoudness(features.loudness)\n  //     //     setSpectralCentroid(features.spectralCentroid)\n  //     //     console.log('meyda working')\n  //     //   },\n  //     // })\n  //     // hear.start()\n  //   })\n\n    \n  // }, [])\n\n  React.useLayoutEffect(() => {\n    if (analyzer) {\n      analyzer.start()\n    }\n  }, [analyzer])\n\n  const [clicked, setClicked] = React.useState(false)\n  const [result, setResult] = React.useState(null)\n  const [textResult, setTextResult] = React.useState(\"\")\n  const [textDesc, setTextDesc] = React.useState(\n    \"Tekan tombol rekam untuk mengenali emosi.\"\n  )\n  const emptyLoudnessArray = new Array(24).fill(0);\n  const [loudness, setLoudness] = React.useState({ total: 0, specific: emptyLoudnessArray })\n  const [spectralCentroid, setSpectralCentroid] = React.useState(0)\n\n  const handleClick = async () => {\n    setClicked(!clicked)\n    if (!clicked) {\n      const audioContext = new AudioContext()\n      audioContext.resume().then(() => {\n        console.log(\"Playback resumed successfully\")\n      })\n      getMedia().then(stream => {\n        const source = audioContext.createMediaStreamSource(stream)\n        setAnalyzer(\n          Meyda.createMeydaAnalyzer({\n            audioContext: audioContext,\n            source: source,\n            bufferSize: 512,\n            featureExtractors: [\"mfcc\"],\n            callback: features => {\n              // mfccBulk.concat(features.mfcc)\n              setMfccTotal(curr => curr.concat([features.mfcc]))\n              console.log('meyda initialized')\n              // console.log(features.mfcc)\n            },\n          })\n        )\n      })\n      // analyzer.start()\n      setTextDesc(\"Tekan stop untuk mulai menganalisis.\")\n      setTextResult(\"Merekam...\")\n    } else {\n      analyzer.stop()\n      console.log(\"Analyzing...\")\n      setTextDesc(\"Mohon tunggu untuk sementara waktu.\")\n      setTextResult(\"Menganalisis suara...\")\n      let testingDataSource = getMeanArray(mfccTotal)\n      console.log(testingDataSource)\n      fetch(\"https://filimoml.com/speeches/predict\", {\n        method: \"post\",\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          mfcc0: testingDataSource[0],\n          mfcc1: testingDataSource[1],\n          mfcc2: testingDataSource[2],\n          mfcc3: testingDataSource[3],\n          mfcc4: testingDataSource[4],\n          mfcc5: testingDataSource[5],\n          mfcc6: testingDataSource[6],\n          mfcc7: testingDataSource[7],\n          mfcc8: testingDataSource[8],\n          mfcc9: testingDataSource[9],\n          mfcc10: testingDataSource[10],\n          mfcc11: testingDataSource[11],\n          mfcc12: testingDataSource[12],\n        }),\n      })\n        .then(res => res.json())\n        .then(data => {\n          console.log(data)\n          setTextResult(\"Emosi terdeteksi\")\n          setTextDesc(JSON.stringify(data))\n        })\n      setMfccTotal([])\n    }\n  }\n\n  return (\n    <Layout havemenu>\n      <SEO title=\"Analyze\" />\n      <Child>\n        <AudioVisualizer>\n          <ChildAudioVisualizer />\n        </AudioVisualizer>\n      </Child>\n      <Child>\n        <TxtDesc>{textDesc}</TxtDesc>\n        <TxtResult>{textResult}</TxtResult>\n      </Child>\n      <Child>\n        <ContainerVolume>\n          <IconMinus />\n          <SliderVolume\n            onChange={handleSlider}\n            volume={valueSlider}\n            type=\"range\"\n            step=\"1\"\n            min=\"1\"\n            max=\"100\"\n            value={valueSlider}\n          />\n          <IconPlus />\n        </ContainerVolume>\n      </Child>\n      <Child>\n        <div style={{ display: \"flex\", justifyContent: \"center\", margin: 35 }}>\n          <ButtonMediumOrange clicked={clicked} onClick={handleClick}>\n            {clicked ? <IconStop /> : <IconMic />}\n          </ButtonMediumOrange>\n        </div>\n      </Child>\n    </Layout>\n  )\n}\n\nexport default AnalyzePage\n","/**\n * Vector\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Vector = factory(Zdog);\n  }\n})(this, function factory(utils) {\n  function Vector(position) {\n    this.set(position);\n  }\n\n  var TAU = utils.TAU; // 'pos' = 'position'\n\n  Vector.prototype.set = function (pos) {\n    this.x = pos && pos.x || 0;\n    this.y = pos && pos.y || 0;\n    this.z = pos && pos.z || 0;\n    return this;\n  }; // set coordinates without sanitizing\n  // vec.write({ y: 2 }) only sets y coord\n\n\n  Vector.prototype.write = function (pos) {\n    if (!pos) {\n      return this;\n    }\n\n    this.x = pos.x != undefined ? pos.x : this.x;\n    this.y = pos.y != undefined ? pos.y : this.y;\n    this.z = pos.z != undefined ? pos.z : this.z;\n    return this;\n  };\n\n  Vector.prototype.rotate = function (rotation) {\n    if (!rotation) {\n      return;\n    }\n\n    this.rotateZ(rotation.z);\n    this.rotateY(rotation.y);\n    this.rotateX(rotation.x);\n    return this;\n  };\n\n  Vector.prototype.rotateZ = function (angle) {\n    rotateProperty(this, angle, 'x', 'y');\n  };\n\n  Vector.prototype.rotateX = function (angle) {\n    rotateProperty(this, angle, 'y', 'z');\n  };\n\n  Vector.prototype.rotateY = function (angle) {\n    rotateProperty(this, angle, 'x', 'z');\n  };\n\n  function rotateProperty(vec, angle, propA, propB) {\n    if (!angle || angle % TAU === 0) {\n      return;\n    }\n\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var a = vec[propA];\n    var b = vec[propB];\n    vec[propA] = a * cos - b * sin;\n    vec[propB] = b * cos + a * sin;\n  }\n\n  Vector.prototype.isSame = function (pos) {\n    if (!pos) {\n      return false;\n    }\n\n    return this.x === pos.x && this.y === pos.y && this.z === pos.z;\n  };\n\n  Vector.prototype.add = function (pos) {\n    if (!pos) {\n      return this;\n    }\n\n    this.x += pos.x || 0;\n    this.y += pos.y || 0;\n    this.z += pos.z || 0;\n    return this;\n  };\n\n  Vector.prototype.subtract = function (pos) {\n    if (!pos) {\n      return this;\n    }\n\n    this.x -= pos.x || 0;\n    this.y -= pos.y || 0;\n    this.z -= pos.z || 0;\n    return this;\n  };\n\n  Vector.prototype.multiply = function (pos) {\n    if (pos == undefined) {\n      return this;\n    } // multiple all values by same number\n\n\n    if (typeof pos == 'number') {\n      this.x *= pos;\n      this.y *= pos;\n      this.z *= pos;\n    } else {\n      // multiply object\n      this.x *= pos.x != undefined ? pos.x : 1;\n      this.y *= pos.y != undefined ? pos.y : 1;\n      this.z *= pos.z != undefined ? pos.z : 1;\n    }\n\n    return this;\n  };\n\n  Vector.prototype.transform = function (translation, rotation, scale) {\n    this.multiply(scale);\n    this.rotate(rotation);\n    this.add(translation);\n    return this;\n  };\n\n  Vector.prototype.lerp = function (pos, alpha) {\n    this.x = utils.lerp(this.x, pos.x || 0, alpha);\n    this.y = utils.lerp(this.y, pos.y || 0, alpha);\n    this.z = utils.lerp(this.z, pos.z || 0, alpha);\n    return this;\n  };\n\n  Vector.prototype.magnitude = function () {\n    var sum = this.x * this.x + this.y * this.y + this.z * this.z;\n    return getMagnitudeSqrt(sum);\n  };\n\n  function getMagnitudeSqrt(sum) {\n    // PERF: check if sum ~= 1 and skip sqrt\n    if (Math.abs(sum - 1) < 0.00000001) {\n      return 1;\n    }\n\n    return Math.sqrt(sum);\n  }\n\n  Vector.prototype.magnitude2d = function () {\n    var sum = this.x * this.x + this.y * this.y;\n    return getMagnitudeSqrt(sum);\n  };\n\n  Vector.prototype.copy = function () {\n    return new Vector(this);\n  };\n\n  return Vector;\n});","require(\"core-js/modules/es.array.fill\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nrequire(\"core-js/modules/es.array.is-array\");\n\nrequire(\"core-js/modules/es.array.map\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\n/**\n * Shape\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'), require('./vector'), require('./path-command'), require('./anchor'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Shape = factory(Zdog, Zdog.Vector, Zdog.PathCommand, Zdog.Anchor);\n  }\n})(this, function factory(utils, Vector, PathCommand, Anchor) {\n  var Shape = Anchor.subclass({\n    stroke: 1,\n    fill: false,\n    color: '#333',\n    closed: true,\n    visible: true,\n    path: [{}],\n    front: {\n      z: 1\n    },\n    backface: true\n  });\n\n  Shape.prototype.create = function (options) {\n    Anchor.prototype.create.call(this, options);\n    this.updatePath(); // front\n\n    this.front = new Vector(options.front || this.front);\n    this.renderFront = new Vector(this.front);\n    this.renderNormal = new Vector();\n  };\n\n  var actionNames = ['move', 'line', 'bezier', 'arc'];\n\n  Shape.prototype.updatePath = function () {\n    this.setPath();\n    this.updatePathCommands();\n  }; // place holder for Ellipse, Rect, etc.\n\n\n  Shape.prototype.setPath = function () {}; // parse path into PathCommands\n\n\n  Shape.prototype.updatePathCommands = function () {\n    var previousPoint;\n    this.pathCommands = this.path.map(function (pathPart, i) {\n      // pathPart can be just vector coordinates -> { x, y, z }\n      // or path instruction -> { arc: [ {x0,y0,z0}, {x1,y1,z1} ] }\n      var keys = Object.keys(pathPart);\n      var method = keys[0];\n      var points = pathPart[method]; // default to line if no instruction\n\n      var isInstruction = keys.length == 1 && actionNames.indexOf(method) != -1;\n\n      if (!isInstruction) {\n        method = 'line';\n        points = pathPart;\n      } // munge single-point methods like line & move without arrays\n\n\n      var isLineOrMove = method == 'line' || method == 'move';\n      var isPointsArray = Array.isArray(points);\n\n      if (isLineOrMove && !isPointsArray) {\n        points = [points];\n      } // first action is always move\n\n\n      method = i === 0 ? 'move' : method; // arcs require previous last point\n\n      var command = new PathCommand(method, points, previousPoint); // update previousLastPoint\n\n      previousPoint = command.endRenderPoint;\n      return command;\n    });\n  }; // ----- update ----- //\n\n\n  Shape.prototype.reset = function () {\n    this.renderOrigin.set(this.origin);\n    this.renderFront.set(this.front); // reset command render points\n\n    this.pathCommands.forEach(function (command) {\n      command.reset();\n    });\n  };\n\n  Shape.prototype.transform = function (translation, rotation, scale) {\n    // calculate render points backface visibility & cone/hemisphere shapes\n    this.renderOrigin.transform(translation, rotation, scale);\n    this.renderFront.transform(translation, rotation, scale);\n    this.renderNormal.set(this.renderOrigin).subtract(this.renderFront); // transform points\n\n    this.pathCommands.forEach(function (command) {\n      command.transform(translation, rotation, scale);\n    }); // transform children\n\n    this.children.forEach(function (child) {\n      child.transform(translation, rotation, scale);\n    });\n  };\n\n  Shape.prototype.updateSortValue = function () {\n    // sort by average z of all points\n    // def not geometrically correct, but works for me\n    var pointCount = this.pathCommands.length;\n    var firstPoint = this.pathCommands[0].endRenderPoint;\n    var lastPoint = this.pathCommands[pointCount - 1].endRenderPoint; // ignore the final point if self closing shape\n\n    var isSelfClosing = pointCount > 2 && firstPoint.isSame(lastPoint);\n\n    if (isSelfClosing) {\n      pointCount -= 1;\n    }\n\n    var sortValueTotal = 0;\n\n    for (var i = 0; i < pointCount; i++) {\n      sortValueTotal += this.pathCommands[i].endRenderPoint.z;\n    }\n\n    this.sortValue = sortValueTotal / pointCount;\n  }; // ----- render ----- //\n\n\n  Shape.prototype.render = function (ctx, renderer) {\n    var length = this.pathCommands.length;\n\n    if (!this.visible || !length) {\n      return;\n    } // do not render if hiding backface\n\n\n    this.isFacingBack = this.renderNormal.z > 0;\n\n    if (!this.backface && this.isFacingBack) {\n      return;\n    }\n\n    if (!renderer) {\n      throw new Error('Zdog renderer required. Set to ' + renderer);\n    } // render dot or path\n\n\n    var isDot = length == 1;\n\n    if (renderer.isCanvas && isDot) {\n      this.renderCanvasDot(ctx, renderer);\n    } else {\n      this.renderPath(ctx, renderer);\n    }\n  };\n\n  var TAU = utils.TAU; // Safari does not render lines with no size, have to render circle instead\n\n  Shape.prototype.renderCanvasDot = function (ctx) {\n    var lineWidth = this.getLineWidth();\n\n    if (!lineWidth) {\n      return;\n    }\n\n    ctx.fillStyle = this.getRenderColor();\n    var point = this.pathCommands[0].endRenderPoint;\n    ctx.beginPath();\n    var radius = lineWidth / 2;\n    ctx.arc(point.x, point.y, radius, 0, TAU);\n    ctx.fill();\n  };\n\n  Shape.prototype.getLineWidth = function () {\n    if (!this.stroke) {\n      return 0;\n    }\n\n    if (this.stroke == true) {\n      return 1;\n    }\n\n    return this.stroke;\n  };\n\n  Shape.prototype.getRenderColor = function () {\n    // use backface color if applicable\n    var isBackfaceColor = typeof this.backface == 'string' && this.isFacingBack;\n    var color = isBackfaceColor ? this.backface : this.color;\n    return color;\n  };\n\n  Shape.prototype.renderPath = function (ctx, renderer) {\n    var elem = this.getRenderElement(ctx, renderer);\n    var isTwoPoints = this.pathCommands.length == 2 && this.pathCommands[1].method == 'line';\n    var isClosed = !isTwoPoints && this.closed;\n    var color = this.getRenderColor();\n    renderer.renderPath(ctx, elem, this.pathCommands, isClosed);\n    renderer.stroke(ctx, elem, this.stroke, color, this.getLineWidth());\n    renderer.fill(ctx, elem, this.fill, color);\n    renderer.end(ctx, elem);\n  };\n\n  var svgURI = 'http://www.w3.org/2000/svg';\n\n  Shape.prototype.getRenderElement = function (ctx, renderer) {\n    if (!renderer.isSvg) {\n      return;\n    }\n\n    if (!this.svgElement) {\n      // create svgElement\n      this.svgElement = document.createElementNS(svgURI, 'path');\n      this.svgElement.setAttribute('stroke-linecap', 'round');\n      this.svgElement.setAttribute('stroke-linejoin', 'round');\n    }\n\n    return this.svgElement;\n  };\n\n  return Shape;\n});","/**\n * Rect\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./shape'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Rect = factory(Zdog.Shape);\n  }\n})(this, function factory(Shape) {\n  var Rect = Shape.subclass({\n    width: 1,\n    height: 1\n  });\n\n  Rect.prototype.setPath = function () {\n    var x = this.width / 2;\n    var y = this.height / 2;\n    /* eslint key-spacing: \"off\" */\n\n    this.path = [{\n      x: -x,\n      y: -y\n    }, {\n      x: x,\n      y: -y\n    }, {\n      x: x,\n      y: y\n    }, {\n      x: -x,\n      y: y\n    }];\n  };\n\n  return Rect;\n});","require(\"core-js/modules/es.array.concat\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nrequire(\"core-js/modules/es.array.slice\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.array.splice\");\n\nrequire(\"core-js/modules/es.object.create\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\n/**\n * Anchor\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'), require('./vector'), require('./canvas-renderer'), require('./svg-renderer'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Anchor = factory(Zdog, Zdog.Vector, Zdog.CanvasRenderer, Zdog.SvgRenderer);\n  }\n})(this, function factory(utils, Vector, CanvasRenderer, SvgRenderer) {\n  var TAU = utils.TAU;\n  var onePoint = {\n    x: 1,\n    y: 1,\n    z: 1\n  };\n\n  function Anchor(options) {\n    this.create(options || {});\n  }\n\n  Anchor.prototype.create = function (options) {\n    this.children = []; // set defaults & options\n\n    utils.extend(this, this.constructor.defaults);\n    this.setOptions(options); // transform\n\n    this.translate = new Vector(options.translate);\n    this.rotate = new Vector(options.rotate);\n    this.scale = new Vector(onePoint).multiply(this.scale); // origin\n\n    this.origin = new Vector();\n    this.renderOrigin = new Vector();\n\n    if (this.addTo) {\n      this.addTo.addChild(this);\n    }\n  };\n\n  Anchor.defaults = {};\n  Anchor.optionKeys = Object.keys(Anchor.defaults).concat(['rotate', 'translate', 'scale', 'addTo']);\n\n  Anchor.prototype.setOptions = function (options) {\n    var optionKeys = this.constructor.optionKeys;\n\n    for (var key in options) {\n      if (optionKeys.indexOf(key) != -1) {\n        this[key] = options[key];\n      }\n    }\n  };\n\n  Anchor.prototype.addChild = function (shape) {\n    if (this.children.indexOf(shape) != -1) {\n      return;\n    }\n\n    shape.remove(); // remove previous parent\n\n    shape.addTo = this; // keep parent reference\n\n    this.children.push(shape);\n  };\n\n  Anchor.prototype.removeChild = function (shape) {\n    var index = this.children.indexOf(shape);\n\n    if (index != -1) {\n      this.children.splice(index, 1);\n    }\n  };\n\n  Anchor.prototype.remove = function () {\n    if (this.addTo) {\n      this.addTo.removeChild(this);\n    }\n  }; // ----- update ----- //\n\n\n  Anchor.prototype.update = function () {\n    // update self\n    this.reset(); // update children\n\n    this.children.forEach(function (child) {\n      child.update();\n    });\n    this.transform(this.translate, this.rotate, this.scale);\n  };\n\n  Anchor.prototype.reset = function () {\n    this.renderOrigin.set(this.origin);\n  };\n\n  Anchor.prototype.transform = function (translation, rotation, scale) {\n    this.renderOrigin.transform(translation, rotation, scale); // transform children\n\n    this.children.forEach(function (child) {\n      child.transform(translation, rotation, scale);\n    });\n  };\n\n  Anchor.prototype.updateGraph = function () {\n    this.update();\n    this.updateFlatGraph();\n    this.flatGraph.forEach(function (item) {\n      item.updateSortValue();\n    }); // z-sort\n\n    this.flatGraph.sort(Anchor.shapeSorter);\n  };\n\n  Anchor.shapeSorter = function (a, b) {\n    return a.sortValue - b.sortValue;\n  }; // custom getter to check for flatGraph before using it\n\n\n  Object.defineProperty(Anchor.prototype, 'flatGraph', {\n    get: function get() {\n      if (!this._flatGraph) {\n        this.updateFlatGraph();\n      }\n\n      return this._flatGraph;\n    },\n    set: function set(graph) {\n      this._flatGraph = graph;\n    }\n  });\n\n  Anchor.prototype.updateFlatGraph = function () {\n    this.flatGraph = this.getFlatGraph();\n  }; // return Array of self & all child graph items\n\n\n  Anchor.prototype.getFlatGraph = function () {\n    var flatGraph = [this];\n    return this.addChildFlatGraph(flatGraph);\n  };\n\n  Anchor.prototype.addChildFlatGraph = function (flatGraph) {\n    this.children.forEach(function (child) {\n      var childFlatGraph = child.getFlatGraph();\n      Array.prototype.push.apply(flatGraph, childFlatGraph);\n    });\n    return flatGraph;\n  };\n\n  Anchor.prototype.updateSortValue = function () {\n    this.sortValue = this.renderOrigin.z;\n  }; // ----- render ----- //\n\n\n  Anchor.prototype.render = function () {}; // TODO refactor out CanvasRenderer so its not a dependency within anchor.js\n\n\n  Anchor.prototype.renderGraphCanvas = function (ctx) {\n    if (!ctx) {\n      throw new Error('ctx is ' + ctx + '. ' + 'Canvas context required for render. Check .renderGraphCanvas( ctx ).');\n    }\n\n    this.flatGraph.forEach(function (item) {\n      item.render(ctx, CanvasRenderer);\n    });\n  };\n\n  Anchor.prototype.renderGraphSvg = function (svg) {\n    if (!svg) {\n      throw new Error('svg is ' + svg + '. ' + 'SVG required for render. Check .renderGraphSvg( svg ).');\n    }\n\n    this.flatGraph.forEach(function (item) {\n      item.render(svg, SvgRenderer);\n    });\n  }; // ----- misc ----- //\n\n\n  Anchor.prototype.copy = function (options) {\n    // copy options\n    var itemOptions = {};\n    var optionKeys = this.constructor.optionKeys;\n    optionKeys.forEach(function (key) {\n      itemOptions[key] = this[key];\n    }, this); // add set options\n\n    utils.extend(itemOptions, options);\n    var ItemClass = this.constructor;\n    return new ItemClass(itemOptions);\n  };\n\n  Anchor.prototype.copyGraph = function (options) {\n    var clone = this.copy(options);\n    this.children.forEach(function (child) {\n      child.copyGraph({\n        addTo: clone\n      });\n    });\n    return clone;\n  };\n\n  Anchor.prototype.normalizeRotate = function () {\n    this.rotate.x = utils.modulo(this.rotate.x, TAU);\n    this.rotate.y = utils.modulo(this.rotate.y, TAU);\n    this.rotate.z = utils.modulo(this.rotate.z, TAU);\n  }; // ----- subclass ----- //\n\n\n  function getSubclass(Super) {\n    return function (defaults) {\n      // create constructor\n      function Item(options) {\n        this.create(options || {});\n      }\n\n      Item.prototype = Object.create(Super.prototype);\n      Item.prototype.constructor = Item;\n      Item.defaults = utils.extend({}, Super.defaults);\n      utils.extend(Item.defaults, defaults); // create optionKeys\n\n      Item.optionKeys = Super.optionKeys.slice(0); // add defaults keys to optionKeys, dedupe\n\n      Object.keys(Item.defaults).forEach(function (key) {\n        if (!Item.optionKeys.indexOf(key) != 1) {\n          Item.optionKeys.push(key);\n        }\n      });\n      Item.subclass = getSubclass(Item);\n      return Item;\n    };\n  }\n\n  Anchor.subclass = getSubclass(Anchor);\n  return Anchor;\n});","require(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.map\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\n/**\n * PathCommand\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./vector'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.PathCommand = factory(Zdog.Vector);\n  }\n})(this, function factory(Vector) {\n  function PathCommand(method, points, previousPoint) {\n    this.method = method;\n    this.points = points.map(mapVectorPoint);\n    this.renderPoints = points.map(mapNewVector);\n    this.previousPoint = previousPoint;\n    this.endRenderPoint = this.renderPoints[this.renderPoints.length - 1]; // arc actions come with previous point & corner point\n    // but require bezier control points\n\n    if (method == 'arc') {\n      this.controlPoints = [new Vector(), new Vector()];\n    }\n  }\n\n  function mapVectorPoint(point) {\n    if (point instanceof Vector) {\n      return point;\n    } else {\n      return new Vector(point);\n    }\n  }\n\n  function mapNewVector(point) {\n    return new Vector(point);\n  }\n\n  PathCommand.prototype.reset = function () {\n    // reset renderPoints back to orignal points position\n    var points = this.points;\n    this.renderPoints.forEach(function (renderPoint, i) {\n      var point = points[i];\n      renderPoint.set(point);\n    });\n  };\n\n  PathCommand.prototype.transform = function (translation, rotation, scale) {\n    this.renderPoints.forEach(function (renderPoint) {\n      renderPoint.transform(translation, rotation, scale);\n    });\n  };\n\n  PathCommand.prototype.render = function (ctx, elem, renderer) {\n    return this[this.method](ctx, elem, renderer);\n  };\n\n  PathCommand.prototype.move = function (ctx, elem, renderer) {\n    return renderer.move(ctx, elem, this.renderPoints[0]);\n  };\n\n  PathCommand.prototype.line = function (ctx, elem, renderer) {\n    return renderer.line(ctx, elem, this.renderPoints[0]);\n  };\n\n  PathCommand.prototype.bezier = function (ctx, elem, renderer) {\n    var cp0 = this.renderPoints[0];\n    var cp1 = this.renderPoints[1];\n    var end = this.renderPoints[2];\n    return renderer.bezier(ctx, elem, cp0, cp1, end);\n  };\n\n  var arcHandleLength = 9 / 16;\n\n  PathCommand.prototype.arc = function (ctx, elem, renderer) {\n    var prev = this.previousPoint;\n    var corner = this.renderPoints[0];\n    var end = this.renderPoints[1];\n    var cp0 = this.controlPoints[0];\n    var cp1 = this.controlPoints[1];\n    cp0.set(prev).lerp(corner, arcHandleLength);\n    cp1.set(end).lerp(corner, arcHandleLength);\n    return renderer.bezier(ctx, elem, cp0, cp1, end);\n  };\n\n  return PathCommand;\n});","/*!\n * Zdog v1.1.2\n * Round, flat, designer-friendly pseudo-3D engine\n * Licensed MIT\n * https://zzz.dog\n * Copyright 2020 Metafizzy\n */\n\n/**\n * Boilerplate & utils\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog = factory();\n  }\n})(this, function factory() {\n  var Zdog = {};\n  Zdog.TAU = Math.PI * 2;\n\n  Zdog.extend = function (a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n\n    return a;\n  };\n\n  Zdog.lerp = function (a, b, alpha) {\n    return (b - a) * alpha + a;\n  };\n\n  Zdog.modulo = function (num, div) {\n    return (num % div + div) % div;\n  };\n\n  var powerMultipliers = {\n    2: function _(a) {\n      return a * a;\n    },\n    3: function _(a) {\n      return a * a * a;\n    },\n    4: function _(a) {\n      return a * a * a * a;\n    },\n    5: function _(a) {\n      return a * a * a * a * a;\n    }\n  };\n\n  Zdog.easeInOut = function (alpha, power) {\n    if (power == 1) {\n      return alpha;\n    }\n\n    alpha = Math.max(0, Math.min(1, alpha));\n    var isFirstHalf = alpha < 0.5;\n    var slope = isFirstHalf ? alpha : 1 - alpha;\n    slope /= 0.5; // make easing steeper with more multiples\n\n    var powerMultiplier = powerMultipliers[power] || powerMultipliers[2];\n    var curve = powerMultiplier(slope);\n    curve /= 2;\n    return isFirstHalf ? curve : 1 - curve;\n  };\n\n  return Zdog;\n});","/**\n * Shape\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'), require('./shape'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Polygon = factory(Zdog, Zdog.Shape);\n  }\n})(this, function factory(utils, Shape) {\n  var Polygon = Shape.subclass({\n    sides: 3,\n    radius: 0.5\n  });\n  var TAU = utils.TAU;\n\n  Polygon.prototype.setPath = function () {\n    this.path = [];\n\n    for (var i = 0; i < this.sides; i++) {\n      var theta = i / this.sides * TAU - TAU / 4;\n      var x = Math.cos(theta) * this.radius;\n      var y = Math.sin(theta) * this.radius;\n      this.path.push({\n        x: x,\n        y: y\n      });\n    }\n  };\n\n  return Polygon;\n});","/**\n * Ellipse\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./shape'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Ellipse = factory(Zdog.Shape);\n  }\n})(this, function factory(Shape) {\n  var Ellipse = Shape.subclass({\n    diameter: 1,\n    width: undefined,\n    height: undefined,\n    quarters: 4,\n    closed: false\n  });\n\n  Ellipse.prototype.setPath = function () {\n    var width = this.width != undefined ? this.width : this.diameter;\n    var height = this.height != undefined ? this.height : this.diameter;\n    var x = width / 2;\n    var y = height / 2;\n    this.path = [{\n      x: 0,\n      y: -y\n    }, {\n      arc: [// top right\n      {\n        x: x,\n        y: -y\n      }, {\n        x: x,\n        y: 0\n      }]\n    }]; // bottom right\n\n    if (this.quarters > 1) {\n      this.path.push({\n        arc: [{\n          x: x,\n          y: y\n        }, {\n          x: 0,\n          y: y\n        }]\n      });\n    } // bottom left\n\n\n    if (this.quarters > 2) {\n      this.path.push({\n        arc: [{\n          x: -x,\n          y: y\n        }, {\n          x: -x,\n          y: 0\n        }]\n      });\n    } // top left\n\n\n    if (this.quarters > 3) {\n      this.path.push({\n        arc: [{\n          x: -x,\n          y: -y\n        }, {\n          x: 0,\n          y: -y\n        }]\n      });\n    }\n  };\n\n  return Ellipse;\n});","require(\"core-js/modules/es.array.fill\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\n/**\n * Box composite shape\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./boilerplate'), require('./anchor'), require('./shape'), require('./rect'));\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Box = factory(Zdog, Zdog.Anchor, Zdog.Shape, Zdog.Rect);\n  }\n})(this, function factory(utils, Anchor, Shape, Rect) {\n  // ----- BoxRect ----- //\n  var BoxRect = Rect.subclass(); // prevent double-creation in parent.copyGraph()\n  // only create in Box.create()\n\n  BoxRect.prototype.copyGraph = function () {}; // ----- Box ----- //\n\n\n  var TAU = utils.TAU;\n  var faceNames = ['frontFace', 'rearFace', 'leftFace', 'rightFace', 'topFace', 'bottomFace'];\n  var boxDefaults = utils.extend({}, Shape.defaults);\n  delete boxDefaults.path;\n  faceNames.forEach(function (faceName) {\n    boxDefaults[faceName] = true;\n  });\n  utils.extend(boxDefaults, {\n    width: 1,\n    height: 1,\n    depth: 1,\n    fill: true\n  });\n  var Box = Anchor.subclass(boxDefaults);\n\n  Box.prototype.create = function (options) {\n    Anchor.prototype.create.call(this, options);\n    this.updatePath(); // HACK reset fill to trigger face setter\n\n    this.fill = this.fill;\n  };\n\n  Box.prototype.updatePath = function () {\n    // reset all faces to trigger setters\n    faceNames.forEach(function (faceName) {\n      this[faceName] = this[faceName];\n    }, this);\n  };\n\n  faceNames.forEach(function (faceName) {\n    var _faceName = '_' + faceName;\n\n    Object.defineProperty(Box.prototype, faceName, {\n      get: function get() {\n        return this[_faceName];\n      },\n      set: function set(value) {\n        this[_faceName] = value;\n        this.setFace(faceName, value);\n      }\n    });\n  });\n\n  Box.prototype.setFace = function (faceName, value) {\n    var rectProperty = faceName + 'Rect';\n    var rect = this[rectProperty]; // remove if false\n\n    if (!value) {\n      this.removeChild(rect);\n      return;\n    } // update & add face\n\n\n    var options = this.getFaceOptions(faceName);\n    options.color = typeof value == 'string' ? value : this.color;\n\n    if (rect) {\n      // update previous\n      rect.setOptions(options);\n    } else {\n      // create new\n      rect = this[rectProperty] = new BoxRect(options);\n    }\n\n    rect.updatePath();\n    this.addChild(rect);\n  };\n\n  Box.prototype.getFaceOptions = function (faceName) {\n    return {\n      frontFace: {\n        width: this.width,\n        height: this.height,\n        translate: {\n          z: this.depth / 2\n        }\n      },\n      rearFace: {\n        width: this.width,\n        height: this.height,\n        translate: {\n          z: -this.depth / 2\n        },\n        rotate: {\n          y: TAU / 2\n        }\n      },\n      leftFace: {\n        width: this.depth,\n        height: this.height,\n        translate: {\n          x: -this.width / 2\n        },\n        rotate: {\n          y: -TAU / 4\n        }\n      },\n      rightFace: {\n        width: this.depth,\n        height: this.height,\n        translate: {\n          x: this.width / 2\n        },\n        rotate: {\n          y: TAU / 4\n        }\n      },\n      topFace: {\n        width: this.width,\n        height: this.depth,\n        translate: {\n          y: -this.height / 2\n        },\n        rotate: {\n          x: -TAU / 4\n        }\n      },\n      bottomFace: {\n        width: this.width,\n        height: this.depth,\n        translate: {\n          y: this.height / 2\n        },\n        rotate: {\n          x: TAU / 4\n        }\n      }\n    }[faceName];\n  }; // ----- set face properties ----- //\n\n\n  var childProperties = ['color', 'stroke', 'fill', 'backface', 'front', 'visible'];\n  childProperties.forEach(function (property) {\n    // use proxy property for custom getter & setter\n    var _prop = '_' + property;\n\n    Object.defineProperty(Box.prototype, property, {\n      get: function get() {\n        return this[_prop];\n      },\n      set: function set(value) {\n        this[_prop] = value;\n        faceNames.forEach(function (faceName) {\n          var rect = this[faceName + 'Rect'];\n          var isFaceColor = typeof this[faceName] == 'string';\n          var isColorUnderwrite = property == 'color' && isFaceColor;\n\n          if (rect && !isColorUnderwrite) {\n            rect[property] = value;\n          }\n        }, this);\n      }\n    });\n  });\n  return Box;\n});","require(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\n/**\n * SvgRenderer\n */\n(function (root, factory) {\n  // module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.SvgRenderer = factory();\n  }\n})(this, function factory() {\n  var SvgRenderer = {\n    isSvg: true\n  }; // round path coordinates to 3 decimals\n\n  var round = SvgRenderer.round = function (num) {\n    return Math.round(num * 1000) / 1000;\n  };\n\n  function getPointString(point) {\n    return round(point.x) + ',' + round(point.y) + ' ';\n  }\n\n  SvgRenderer.begin = function () {};\n\n  SvgRenderer.move = function (svg, elem, point) {\n    return 'M' + getPointString(point);\n  };\n\n  SvgRenderer.line = function (svg, elem, point) {\n    return 'L' + getPointString(point);\n  };\n\n  SvgRenderer.bezier = function (svg, elem, cp0, cp1, end) {\n    return 'C' + getPointString(cp0) + getPointString(cp1) + getPointString(end);\n  };\n\n  SvgRenderer.closePath = function ()\n  /* elem */\n  {\n    return 'Z';\n  };\n\n  SvgRenderer.setPath = function (svg, elem, pathValue) {\n    elem.setAttribute('d', pathValue);\n  };\n\n  SvgRenderer.renderPath = function (svg, elem, pathCommands, isClosed) {\n    var pathValue = '';\n    pathCommands.forEach(function (command) {\n      pathValue += command.render(svg, elem, SvgRenderer);\n    });\n\n    if (isClosed) {\n      pathValue += this.closePath(svg, elem);\n    }\n\n    this.setPath(svg, elem, pathValue);\n  };\n\n  SvgRenderer.stroke = function (svg, elem, isStroke, color, lineWidth) {\n    if (!isStroke) {\n      return;\n    }\n\n    elem.setAttribute('stroke', color);\n    elem.setAttribute('stroke-width', lineWidth);\n  };\n\n  SvgRenderer.fill = function (svg, elem, isFill, color) {\n    var fillColor = isFill ? color : 'none';\n    elem.setAttribute('fill', fillColor);\n  };\n\n  SvgRenderer.end = function (svg, elem) {\n    svg.appendChild(elem);\n  };\n\n  return SvgRenderer;\n});"],"sourceRoot":""}