(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"z/cv":function(n,e,t){"use strict";t.r(e);t("ma9I"),t("pjDv"),t("4mDm"),t("2B1R"),t("E9XD"),t("+2oP"),t("07d7"),t("5s+n"),t("PKPk"),t("3bBZ"),t("Kz25");var c=t("o0o1"),r=t.n(c),o=(t("ls82"),t("q1tI")),a=t.n(o),u=t("4pX0"),i=t.n(u);function f(n,e,t,c,r,o,a){try{var u=n[o](a),i=u.value}catch(f){return void t(f)}u.done?e(i):Promise.resolve(i).then(c,r)}function s(n){return n[0].map((function(e,t){return n.map((function(n){return n[t]})).reduce((function(n,e){return n+e}),0)/n.length}))}e.default=function(){var n=a.a.useState([]),e=n[0],t=n[1],c=a.a.useState([]),o=(c[0],c[1],a.a.useRef([])),u=a.a.useState([]),l=(u[0],u[1]),m=a.a.useState(null),p=m[0],d=m[1],h=a.a.useState([]),v=h[0],g=h[1],y=a.a.useState("");y[0],y[1],a.a.useLayoutEffect((function(){p&&p.start()}),[p]);var k=function(){var n,e=(n=r.a.mark((function n(e){var t;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p.stop(),n.next=3,s(v);case 3:t=n.sent,l((function(n){return n.concat([t])})),console.log(e+1),console.log(t),g([]),console.log("Memprediksi kelas emosi..."),fetch("http://localhost:5000/speeches/predict",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({mfcc0:t[0],mfcc1:t[1],mfcc2:t[2],mfcc3:t[3],mfcc4:t[4],mfcc5:t[5],mfcc6:t[6],mfcc7:t[7],mfcc8:t[8],mfcc9:t[9],mfcc10:t[10],mfcc11:t[11],mfcc12:t[12]})}).then((function(n){return n.json()})).then((function(n){return console.log(n)}));case 10:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(c,r){var o=n.apply(e,t);function a(n){f(o,c,r,a,u,"next",n)}function u(n){f(o,c,r,a,u,"throw",n)}a(void 0)}))});return function(n){return e.apply(this,arguments)}}();return a.a.createElement("div",{style:{padding:50}},a.a.createElement("input",{type:"file",multiple:!0,onChange:function(n){Array.from(n.target.files).map((function(n){t((function(e){return e.concat(URL.createObjectURL(n))}))})),o.current=o.current.slice(0,n.target.files.length)}}),a.a.createElement("button",{onClick:function(){return function n(t){void 0===t&&(t=0),console.log("["+(parseFloat(t)+1)+"/"+e.length+"] Mengekstrak fitur MFCC"),o.current[t].play(),o.current[t].onended=function(){t<e.length-1&&n(t+1)}}()}},"Train"),a.a.createElement("br",null),e?e.map((function(n,e){return a.a.createElement("audio",{key:e,ref:function(n){return o.current[e]=n},src:n,controls:!0,onPlay:function(){return function(n){g([]);var e=new AudioContext,t=e.createMediaElementSource(o.current[n]);t.connect(e.destination),d(i.a.createMeydaAnalyzer({audioContext:e,source:t,bufferSize:512,featureExtractors:["mfcc"],callback:function(n){g((function(e){return e.concat([n.mfcc])}))}}))}(e)},onEnded:function(){return k(e)},style:{margin:15}})})):null)}}}]);
//# sourceMappingURL=component---src-pages-predict-js-5f6da95290271dc55878.js.map